<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">
    * {
        margin: 0;
        padding: 0;
    }
    
    .dialog {
        width: 300px;
        height: 300px;
        background: #afa;
        cursor: move;
        position: absolute;
        left: 50%;
        margin-left:-150px;
        top: 50%;
        margin-top:-150px;
    }
    </style>
</head>

<body>
    <div class="dialog"></div>
    <script src="js/jquery-1.11.3.min.js"></script>
    <script>
    $(function() {
        var isDraging = false;
        var mouseoffsetX,mouseoffsetY;
        var $dialog = $('.dialog');
        $dialog.mousedown(function(e) {
            mouseoffsetX = e.pageX - $(this).position().left;
            mouseoffsetY = e.pageY - $(this).position().top;
            isDraging = true;
        });
        $(document).mousemove(function(e) {
            var moveX = 0;
            var moveY = 0;
            if (isDraging) {
                moveX = e.pageX - mouseoffsetX;
                moveY = e.pageY - mouseoffsetY;
                moveX = moveX < 150 ? 150 : moveX;
                moveX = moveX > $(window).width() - 150 ? $(window).width() - 150:moveX;
                moveY = moveY < 150 ? 150 : moveY;
                moveY = moveY > $(window).height() - 150 ? $(window).height() -150:moveY;
                $dialog.css({
                    left: moveX,
                    top: moveY
                });
            }

        }).mouseup(function(){
        	isDraging = false;
        })
    })
    </script>
</body>

</html>
